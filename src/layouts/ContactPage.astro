---
import Page from "../components/utils/Page.astro";
import Section from "../components/ui/Section.astro";
import Hero from "../components/ui/Hero.astro";

import { siteRepository } from "../content";
import type { ContentPage, SiteOwner } from "../content/site.repository";

export type Props = {
  page: ContentPage;
  lang: string;
  owner: SiteOwner;
};

const { page, lang, owner } = Astro.props;
const t = siteRepository.getTranslator(lang);
---

<Page id="contactPage" gap={4} animation="animate-fade-in">
  <!-- Hero Section -->
  <div class="py-5">
    <Hero title={page.title} slogan={page.paragraphs[0] || ''} gap={3} />
  </div>

  <!-- Page Content -->
  {page.paragraphs.length > 1 && (
    <Section id="pageContent">
      <div class="content-text">
        {page.paragraphs.slice(1).map((paragraph) => (
          <p class="lh-base mb-3 text-secondary">{paragraph}</p>
        ))}
      </div>
    </Section>
  )}

  <!-- Contact Information Grid -->
  <Section id="contactInfo">
    <div class="row g-4">
      <!-- Company Information -->
      <div class="col-lg-6">
        <div class="p-4 bg-light rounded">
          <h5 class="fw-bold mb-3">{owner.company.name}</h5>
          
          <div class="mb-2">
            <span class="text-secondary small">{t('contact.tax-id')}:</span>
            <div>{owner.company.taxId}</div>
          </div>

          <div class="mb-3">
            <span class="text-secondary small">{t('contact.registration-id')}:</span>
            <div>{owner.company.registrationId}</div>
          </div>

          <h6 class="fw-bold mb-2 mt-4">{t('contact.address')}</h6>
          <p class="mb-1 small">{owner.address.street}</p>
          <p class="mb-1 small">{owner.address.postalCode} {owner.address.city}</p>
          <p class="mb-0 small">{owner.address.country}</p>
        </div>
      </div>

      <div class="col-lg-6">
        <div class="p-4 bg-light rounded">
          <h5 class="fw-bold mb-3">{t('footer.contact')}</h5>
          
          <!-- Email -->
          <div class="d-flex align-items-center gap-2 mb-3">
            <i class="bi bi-envelope-fill fs-5"></i>
            <div class="flex-grow-1">
              <h6 class="text-secondary small mb-1">{t('contact.email')}</h6>
              <a href={`mailto:${owner.contact.email}`} class="text-decoration-none">
                {owner.contact.email}
              </a>
            </div>
          </div>

          <!-- Phone -->
          <div class="d-flex align-items-center gap-2 mb-3">
            <i class="bi bi-telephone-fill fs-5"></i>
            <div class="flex-grow-1">
              <h6 class="text-secondary small mb-1">{t('contact.phone')}</h6>
              <a href={owner.contact.phone.url} class="text-decoration-none">
                {owner.contact.phone.number}
              </a>
            </div>
          </div>

          <!-- Website -->
          <div class="d-flex align-items-center gap-2 mb-3">
            <i class="bi bi-globe fs-5"></i>
            <div class="flex-grow-1">
              <h6 class="text-secondary small mb-1">{t('contact.website')}</h6>
              <a href={owner.contact.website} target="_blank" rel="noopener noreferrer" class="text-decoration-none">
                greyhunter.com.pl
              </a>
            </div>
          </div>

          <!-- Social Links -->
          <div class="mt-4 pt-4 border-top">
            <h6 class="fw-bold mb-3">{t('footer.followUs')}</h6>
            <div class="d-flex gap-2">
              {owner.socials.map((social) => (
                <a 
                  href={social.url}
                  target="_blank"
                  rel="noopener noreferrer"
                  class="btn btn-sm btn-outline-secondary"
                  title={social.name}
                  aria-label={social.name}
                >
                  <i class={social.icon}></i>
                </a>
              ))}
            </div>
          </div>
        </div>
      </div>
    </div>
  </Section>
</Page>
