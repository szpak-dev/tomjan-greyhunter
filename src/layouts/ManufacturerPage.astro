---
import Section from "../components/ui/Section.astro";
import CategoryCard from "../components/product/CategoryCard.astro";
import Grid from "../components/utils/Grid.astro";
import GridItem from "../components/utils/GridItem.astro";
import Page from "../components/utils/Page.astro";

import type { Manufacturer } from "../content/manufacturer.repository";
import type { Category } from "../content/category.repository";
import OwnerStory from "../components/OwnerStory.astro";
import { siteRepository } from "../content";

export type Props = {
  manufacturer: Manufacturer;
  categories: Category[];
  ownerStory: string;
};

const { manufacturer, categories, ownerStory } = Astro.props;
const t = siteRepository.getTranslator(manufacturer.lang);
---

<Page id="manufacturerPage" gap={5} animation="animate-fade-in">
  <Section id="ownerStory" heading={t("headings.owner-story")} divider={true}>
    <OwnerStory 
        manufacturer={manufacturer} 
        story={ownerStory} 
    />
  </Section>

  <Section id="productCategories" heading={t("headings.product-categories")} divider={true}>
    <Grid cols={{ xs: 1, md: 3 }} gap={4} animate="animate-stagger">
    {categories.map((category) => (
        <GridItem>
            <CategoryCard category={category} />
        </GridItem>
    ))}
    </Grid>
  </Section>
</Page>
