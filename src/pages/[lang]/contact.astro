---
import Layout from "../../layouts/Layout.astro";
import ContactPage from "../../layouts/ContactPage.astro";
import { siteRepository } from "../../content";

export async function getStaticPaths() {
  return [
    { params: { lang: "en" } },
    { params: { lang: "pl" } },
  ];
}

const { lang } = Astro.params;
const slugMap = { en: "contact", pl: "kontakt" };
const slug = slugMap[lang as keyof typeof slugMap];
const page = siteRepository.getContentPage(slug, lang);
const navigationItems = siteRepository.getNavigationItems(lang);
const owner = siteRepository.getSiteOwner();
const socials = siteRepository.getSocialAccounts();
const languages = siteRepository.getAvailableLanguages();
const currentLanguage = siteRepository.getLanguage(lang);
---

<Layout title={page.title} {lang} {socials} {owner} {languages} {currentLanguage} {navigationItems}>
  <ContactPage {page} {lang} {owner} />
</Layout>
