---
import Layout from "../../layouts/Layout.astro";
import ContentPage from "../../layouts/ContentPage.astro";
import { siteRepository } from "../../content";

export async function getStaticPaths() {
  return [
    { params: { lang: "en" } },
    { params: { lang: "pl" } },
  ];
}

const { lang } = Astro.params;
const slugMap = { en: "about-company", pl: "o-firmie" };
const slug = slugMap[lang as keyof typeof slugMap];
const page = siteRepository.getContentPage(slug, lang);
const navigationItems = siteRepository.getNavigationItems(lang);
const socials = siteRepository.getSocialAccounts();
const owner = siteRepository.getSiteOwner();
const languages = siteRepository.getAvailableLanguages();
const currentLanguage = siteRepository.getLanguage(lang);
---

<Layout title={page.title} {lang} {socials} {owner} {languages} {currentLanguage} {navigationItems} currentSlug={slug}>
  <ContentPage {page} />
</Layout>
